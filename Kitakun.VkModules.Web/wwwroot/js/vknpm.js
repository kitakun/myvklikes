!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=1)}([function(e,n,t){!function(e){"use strict";var n=function(){return(n=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e}).apply(this,arguments)};function t(){for(var e=0,n=0,t=arguments.length;n<t;n++)e+=arguments[n].length;var r=Array(e),o=0;for(n=0;n<t;n++)for(var i=arguments[n],u=0,p=i.length;u<p;u++,o++)r[o]=i[u];return r}var r="undefined"!=typeof window,o=Boolean(r&&window.AndroidBridge),i=Boolean(r&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.VKWebAppClose),u=!o&&!i,p=u?"message":"VKWebAppEvent",a=["VKWebAppInit","VKWebAppGetCommunityAuthToken","VKWebAppAddToCommunity","VKWebAppGetUserInfo","VKWebAppSetLocation","VKWebAppGetClientVersion","VKWebAppGetPhoneNumber","VKWebAppGetEmail","VKWebAppGetGeodata","VKWebAppSetTitle","VKWebAppGetAuthToken","VKWebAppCallAPIMethod","VKWebAppJoinGroup","VKWebAppAllowMessagesFromGroup","VKWebAppDenyNotifications","VKWebAppAllowNotifications","VKWebAppOpenPayForm","VKWebAppOpenApp","VKWebAppShare","VKWebAppShowWallPostBox","VKWebAppScroll","VKWebAppResizeWindow","VKWebAppShowOrderBox","VKWebAppShowLeaderBoardBox","VKWebAppShowInviteBox","VKWebAppShowRequestBox","VKWebAppAddToFavorites","VKWebAppShowCommunityWidgetPreviewBox"],s=r?window.AndroidBridge:void 0,l=i?window.webkit.messageHandlers:void 0;function d(e,n){var t=n||{bubbles:!1,cancelable:!1,detail:void 0},r=document.createEvent("CustomEvent");return r.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail),r}"undefined"==typeof window||window.CustomEvent||(window.CustomEvent=(d.prototype=Event.prototype,d));var c=function(e){var r=void 0,d=[];function c(e){d.push(e)}window.addEventListener(p,(function(e){if(i||o)return t(d).map((function(n){return n.call(null,e)}));if(u&&e&&e.data){var n=e.data,p=n.type,a=n.data,s=n.frameId;p&&"VKWebAppSettings"===p?r=s:t(d).map((function(e){return e({detail:{type:p,data:a}})}))}}));var f=function(e,t){var r,o,i=(r={current:0,next:function(){return++this.current}},o={},{add:function(e){var n=r.next();return o[n]=e,n},resolve:function(e,n,t){var r=o[e];r&&(t(n)?r.resolve(n):r.reject(n),o[e]=null)}});return t((function(e){if(e.detail&&e.detail.data){var n=e.detail.data,t=n.request_id,r=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(n,["request_id"]);t&&i.resolve(t,r,(function(e){return!("error_type"in e)}))}})),function(t,r){return void 0===r&&(r={}),new Promise((function(o,u){var p=null==r.request_id?i.add({resolve:o,reject:u}):r.request_id;e(t,n(n({},r),{request_id:p}))}))}}((function(e,n){s&&s[e]?s[e](JSON.stringify(n)):l&&l[e]&&"function"==typeof l[e].postMessage?l[e].postMessage(n):u&&parent.postMessage({handler:e,params:n,type:"vk-connect",webFrameId:r,connectVersion:"1.8.7"},"*")}),c);return{send:f,sendPromise:f,subscribe:c,unsubscribe:function(e){var n=d.indexOf(e);-1<n&&d.splice(n,1)},supports:function(e){return o?!(!s||"function"!=typeof s[e]):i?!(!l||!l[e]||"function"!=typeof l[e].postMessage):u&&-1<a.indexOf(e)},isWebView:function(){return i||o}}}();e.applyMiddleware=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.includes(void 0)||t.includes(null)?e.apply(void 0,t.filter((function(e){return"function"==typeof e}))):function(e){if(0===t.length)return e;var r,o={subscribe:e.subscribe,send:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return e.send.apply(e,n)}};return r=t.filter((function(e){return"function"==typeof e})).map((function(e){return e(o)})).reduce((function(e,n){return function(t){return e(n(t))}}))(e.send),n(n({},e),{send:r})}},e.default=c,Object.defineProperty(e,"__esModule",{value:!0})}(n)},function(e,n,t){"use strict";t.r(n);var r=t(0);t.n(r).a.send("VKWebAppInit").then(e=>{console.log(e.email)}).catch(e=>{console.error(`[VK] ${e.message}`)})}]);