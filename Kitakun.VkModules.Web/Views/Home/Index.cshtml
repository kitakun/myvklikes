@model Kitakun.VkModules.Web.WebModels.HomeModel

@{
    Layout = "../Shared/_Layout";
}

@using AdminTitleChangerComponent = Kitakun.VkModules.Web.Components.AdminTitleChangerComponent;
@using AdminListSetuperComponent = Kitakun.VkModules.Web.Components.AdminListSetuperComponent;
@using Top100BestLikersComponent = Kitakun.VkModules.Web.Components.Top100BestLikersComponent;

<div id="message"> </div>

<div class="page-block">
    <h2>Лучше лайкатели</h2>
</div>

@if (Model.IsAdmin)
{
    <div class="admin-panel">
        <h4 class="admin">Управление</h4>

        @await Component.InvokeAsync(nameof(AdminTitleChangerComponent))

        @await Component.InvokeAsync(nameof(AdminListSetuperComponent))

    </div>
}

@if (Model.HasSubscription)
{
    @await Component.InvokeAsync(nameof(Top100BestLikersComponent))
}
else
{
    @if (Model.IsAdmin)
    {
        <div class="admin-panel">
            <p>У вас нет подписки или она закончилась :с</p>
            <p>Свяжитесь с администратором виджета</p>
        </div>
    }
    else
    {
        <div class="page-block">
            <p>Понравился виджет?</p>
            <p>Можем легко подключать вам такой же</p>
            <p>Если интересно, пишите!</p>
        </div>
    }
}

@section Style {
    <style>
        .admin-panel {
            top: 10px;
            position: relative;
            padding: 2px;
            border: 1px solid red;
            margin: 2px;
        }

        h4.admin {
            color: red;
            padding: 0px;
            margin: 0px;
        }
    </style>
}